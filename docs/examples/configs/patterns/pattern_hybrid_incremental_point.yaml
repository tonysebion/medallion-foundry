environment: dev
pattern_id: pattern6_hybrid_incremental_point  # Unique identifier for tracing across source → bronze → silver
domain: retail_demo
system: retail_demo
entity: orders

path_structure:
  sample_key: "sample"
  system_key: "system"
  entity_key: "table"
  date_key: "dt"
  silver_model_key: "silver_model"
  domain_key: "domain"
  load_date_key: "load_date"

bronze:
  enabled: true
  source_type: file
  path_pattern: ./sampledata/source_samples/sample=pattern6_hybrid_incremental_point/system=retail_demo/table=orders/dt=2025-11-24/delta/delta-part-0001.csv
  partition_column: run_date
  options:
    format: csv
    load_pattern: cdc
    pattern_folder: pattern6_hybrid_incremental_point
    delta_mode: point_in_time
    partitioning_strategy: timestamp
    match_dir: delta

silver:
  enabled: true
  entity_kind: derived_state
  history_mode: latest_only
  schema_mode: allow_new_columns
  natural_keys:
    - order_id
  change_ts_column: changed_at
  attributes:
    - status
  partition_by: []
  # IMPORTANT: latest_only (Pattern 6) stores CURRENT state only, not historical
  # Therefore: NOT partitioned - single artifact represents current state snapshot
  # Users query: "What's the current state of entity X?" - no partitioning needed
  delete_mode: ignore
  record_time_column: "changed_at"  # Column with state change time
  record_time_partition: null  # NO partitioning for current-state tables
  load_batch_id_column: "load_batch_id"  # Standard column for batch tracking
