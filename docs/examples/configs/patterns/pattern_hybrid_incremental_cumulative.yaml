environment: dev
pattern_id: pattern7_hybrid_incremental_cumulative  # Unique identifier for tracing across source → bronze → silver
domain: retail_demo
system: retail_demo
entity: orders

bronze:
  enabled: true
  source_type: file
  path_pattern: ./sampledata/source_samples/sample=pattern7_hybrid_incremental_cumulative/system=retail_demo/table=orders/dt=2025-11-24/delta/delta-part-0001.csv
  partition_column: run_date
  options:
    format: csv
    load_pattern: cdc
    pattern_folder: pattern7_hybrid_incremental_cumulative
    delta_mode: cumulative
    partitioning_strategy: timestamp
    match_dir: delta

silver:
  enabled: true
  entity_kind: state
  history_mode: scd1
  schema_mode: allow_new_columns
  natural_keys:
    - order_id
  change_ts_column: changed_at
  attributes:
    - status
    - customer_id
    - changed_at
  partition_by:
    - change_ts_dt
  delete_mode: ignore
