# Modern Data Pipeline Manifesto Playbook

This playbook ties each manifesto principle to the concrete artifacts we already ship so developers always know what to do next and what to expect.

| Principle | Current Signal | How to Use It | Next Step (if you spot drift) |
|-----------|----------------|---------------|-------------------------------|
| Predictable | Intent configs under `docs/examples/configs/` + generated samples in `sampledata/source_samples/<pattern>/…` | Always point `bronze.path_pattern` to the matching folder and let CLI derive the rest. | When in doubt, regenerate samples via `scripts/generate_sample_data.py` so folders match file names again. |
| Lightweight & Understandable | `core/config/dataset.py` encodes the bronze/silver intent in a single chunk; `silver_extract.py` routes to `SilverProcessor`. Examples and README explain usage. | Read the intent YAML or doc snippet before editing logic; there’s no hidden state. | If a script starts growing, split it into a helper bound to this pattern and update the doc to match. |
| Safe to Run | Bronze writes are partitioned and idempotent; Silver adds metadata, checksum validation, and schema guards plus integration tests (`tests/test_integration_samples.py`). | Re-run Bronze+Silver using the sample configs—retries won’t create duplicate partitions if you don’t change the config. | Add a metadata checkpoint when new folders are introduced so safety is explicit. |
| Bronze is Raw & Trustworthy | Sample data generation writes `full`, `cdc`, and `current_history` files plus `_metadata.json`/`_checksums.json`; each config uses those paths. | Always review `_metadata.json` under the Bronze partition to verify `load_pattern`. | If you add a new data source, add a metadata writer (schematically similar to `_write_metadata`) before shadowing data. |
| Silver is Clean but Non-Semantic | Silver intent only lists attributes, timestamps, partitions, and history modes; `SilverProcessor` only normalizes, partitions, and adds metadata. | Avoid adding business logic to Silver—keep that in downstream code or Gold. | When new transformations are needed, question whether they belong in Bronze metadata or a downstream Gold job. |
| System Guides Correctness | Config validation, README checklists, sample generator, and integration tests enforce best defaults (`history_mode=scd2`, `input_mode=append_log`, etc.). | Start new datasets by filling the checklist (`docs/usage/onboarding/new_dataset_checklist.md`). | If a dataset deviates, document the exception in the checklist and add a regression test. |
| Ownership is Obvious | Metadata columns (`record_source`, `load_batch_id`, `environment`) plus manifest/report hooks (`core/catalog`) record who ran the pipeline. | Read `core/catalog` hooks for lineage and ownership metadata. | Add more descriptive metadata (e.g., `owner_team`) if required by governance. |
| Everything is Observable | Checksum manifests, metadata, catalog reporting, and tests generate lineage, schema snapshots, and quality numbers for every Silver run. | Use `_metadata.json`, `_checksums.json`, and catalog events to feed OpenMetadata/observability platforms. | If a new connector lacks metadata output, instrument it like the existing Bronze jobs. |
| Iteration Over Perfection | Intent configs + sample generator let you experiment with a single YAML; tests reuse the same data. | Copy an existing config, tweak the intent fields, and rerun Bronze/Silver to iterate quickly. | If you need new load patterns, extend the sample generator rather than changing production code. |
| Calm Experience | Documentation (README, `docs/framework/silver_patterns.md`, new playbook) explains exactly how Bronze and Silver behave; CLI errors now point to the intent schema. | When things fail, check the playbook, inspect `_metadata.json`, and rerun with the same config. | Add error messages referencing the playbook/principle if teams still feel uncertain. |

Use this playbook as your primary checklist whenever you add configs, write new scripts, or modify the directory layout—each column maps the principle directly to something actionable in the repo.

If you need an at-a-glance flow, see `docs/framework/reference/intent-lifecycle.md` for the Bronze→Silver command/path/metadata steps that implement this manifesto end-to-end.
