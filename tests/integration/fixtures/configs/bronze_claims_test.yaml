# yaml-language-server: $schema=../../../../pipelines/schema/pipeline.schema.json
#
# Bronze Claims Test Configuration
# Used for full pipeline integration tests with local storage
#
# To run:
#   python -m pipelines ./tests/integration/fixtures/configs/bronze_claims_test.yaml --date 2025-01-15

name: bronze_claims_test
description: Healthcare claims extraction for integration tests

bronze:
  system: synthetic
  entity: claims
  source_type: file_parquet
  source_path: "${INPUT_DIR}/claims_*.parquet"
  load_pattern: full_snapshot
  # target_path auto-generates: ./bronze/system=synthetic/entity=claims/dt={run_date}/

silver:
  unique_columns: [claim_id]
  last_updated_column: updated_at
  entity_kind: event
  # target_path auto-generates: ./silver/domain=synthetic/subject=claims/dt={run_date}/
